<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Loyalty Program - Mustard Seed CafÃ©</title>
  <meta name="description" content="Join our loyalty program at Mustard Seed CafÃ©. Collect 4 coffee stamps for a free coffee!" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="style.css">
  <style>
    :root { 
      --mustard: #D6A319; 
      --charcoal: #1F2937; 
      --cream: #FFFAF0; 
    }
    .grain { 
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity=".04"/></svg>'); 
    }
    body { 
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, 'Apple Color Emoji', 'Segoe UI Emoji'; 
    }
    html { 
      scroll-behavior: smooth; 
    }
    @media (prefers-reduced-motion: reduce) {
      html { scroll-behavior: auto; }
    }
  </style>
</head>
<body class="bg-[var(--cream)] text-[var(--charcoal)]">

  <!-- Header -->
  <header class="sticky top-0 z-50 bg-[var(--cream)]/90 backdrop-blur grain border-b border-black/5">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 py-4 flex items-center justify-between">
      <a href="index.html" class="flex items-center gap-3 group">
        <img src="logo.png" alt="Mustard Seed CafÃ© Logo" class="w-50 h-50 rounded-full ring-2 ring-black/10 transition-transform group-hover:scale-110" style="width: 200px; height: 200px;" />
      </a>
      <nav class="hidden md:flex items-center gap-6 text-sm" aria-label="Main navigation">
        <a href="index.html" class="hover:text-[var(--mustard)] transition-colors">Home</a>
        <a href="about.html" class="hover:text-[var(--mustard)] transition-colors">About</a>
        <a href="mission.html" class="hover:text-[var(--mustard)] transition-colors">Mission</a>
        <a href="hours.html" class="hover:text-[var(--mustard)] transition-colors">Hours</a>
        <a href="gallery.html" class="hover:text-[var(--mustard)] transition-colors">Gallery</a>
        <a href="loyalty.html" class="text-[var(--mustard)] font-medium">Loyalty</a>
        <a href="findus.html" class="hover:text-[var(--mustard)] transition-colors">Find us</a>
        <a href="contact.html" class="px-4 py-2 rounded-full bg-[var(--mustard)] text-[var(--charcoal)] font-medium hover:bg-[var(--mustard)]/90 transition-all hover:shadow-lg">Contact</a>
      </nav>
      <button id="mobileBtn" class="md:hidden p-2 rounded hover:bg-black/5 transition-colors" aria-label="Toggle menu" aria-expanded="false">â˜°</button>
    </div>
    <div id="mobileNav" class="md:hidden hidden border-t border-black/5" aria-label="Mobile navigation">
      <nav class="px-4 py-3 grid gap-3 text-sm">
        <a href="index.html" class="py-1 hover:text-[var(--mustard)] transition-colors">Home</a>
        <a href="about.html" class="py-1 hover:text-[var(--mustard)] transition-colors">About</a>
        <a href="mission.html" class="py-1 hover:text-[var(--mustard)] transition-colors">Mission</a>
        <a href="hours.html" class="py-1 hover:text-[var(--mustard)] transition-colors">Hours</a>
        <a href="gallery.html" class="py-1 hover:text-[var(--mustard)] transition-colors">Gallery</a>
        <a href="loyalty.html" class="text-[var(--mustard)] font-medium py-1">Loyalty</a>
        <a href="findus.html" class="py-1 hover:text-[var(--mustard)] transition-colors">Find us</a>
        <a href="contact.html" class="py-2 px-3 rounded bg-[var(--mustard)] text-[var(--charcoal)] font-medium inline-block w-max hover:bg-[var(--mustard)]/90 transition-colors">Contact</a>
      </nav>
    </div>
  </header>

  <!-- Loyalty Program -->
  <section class="py-16 md:py-24">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 text-center">
      <h1 class="text-4xl font-bold mb-8">Digital Loyalty Card</h1>
      
      <!-- Registration Form (shown for new users) -->
      <div id="registration-form" class="hidden max-w-md mx-auto mb-12">
        <div class="bg-white p-8 rounded-lg shadow-lg">
          <h2 class="text-2xl font-semibold mb-4">Join Our Loyalty Program</h2>
          <p class="text-sm text-gray-600 mb-6">Get your digital loyalty card and start earning rewards! We'll send you occasional updates about special offers.</p>
          
          <form id="registerForm" class="space-y-4">
            <div class="text-left">
              <label for="userName" class="block text-sm font-medium text-gray-700 mb-1">Name *</label>
              <input type="text" id="userName" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[var(--mustard)] focus:border-transparent" placeholder="Your name">
            </div>
            
            <div class="text-left">
              <label for="userEmail" class="block text-sm font-medium text-gray-700 mb-1">Email *</label>
              <input type="email" id="userEmail" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[var(--mustard)] focus:border-transparent" placeholder="your.email@example.com">
            </div>
            
            <div class="text-left">
              <label for="userDob" class="block text-sm font-medium text-gray-700 mb-1">Date of Birth</label>
              <input type="date" id="userDob" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[var(--mustard)] focus:border-transparent">
              <p class="text-xs text-gray-500 mt-1">Optional - get a free coffee on your birthday!</p>
            </div>
            
            <div class="flex items-center">
              <input type="checkbox" id="marketingConsent" class="h-4 w-4 text-[var(--mustard)] focus:ring-[var(--mustard)] border-gray-300 rounded">
              <label for="marketingConsent" class="ml-2 block text-sm text-gray-700">
                I agree to receive occasional marketing emails about special offers and updates
              </label>
            </div>
            
            <button type="submit" class="w-full bg-[var(--mustard)] text-[var(--charcoal)] font-medium py-3 px-4 rounded-md hover:bg-[var(--mustard)]/90 transition-colors">
              Get My Digital Card
            </button>
          </form>
        </div>
      </div>

      <!-- QR Code Section -->
      <div id="qr-section" class="mb-12">
        <h2 class="text-2xl font-semibold mb-4">Scan to Access Your Digital Card</h2>
        <div class="inline-block p-4 bg-white rounded-lg shadow-lg">
          <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=https://mustardseedcafe.com.au/loyalty.html" alt="QR Code to access digital loyalty card" class="w-48 h-48" />
        </div>
        <p class="mt-4 text-sm text-[var(--charcoal)]/70">Scan with your phone's camera or QR code reader</p>
      </div>

      <!-- Loyalty Card (shown after registration) -->
      <div id="loyalty-card" class="hidden">
        <p class="mb-4 text-lg">Collect 4 coffee stamps and get your next one free!</p>
        <div class="text-sm text-gray-600 mb-6">Your Card ID: <span id="user-id-display" class="font-mono bg-gray-100 px-2 py-1 rounded"></span></div>
        <div class="container mx-auto max-w-md">
          <div id="count" class="text-xl font-semibold mb-4">Coffees collected: 0 / 4</div>
          <div class="stamps flex justify-center mb-6">
            <div class="stamp" id="stamp1">â˜•</div>
            <div class="stamp" id="stamp2">â˜•</div>
            <div class="stamp" id="stamp3">â˜•</div>
            <div class="stamp" id="stamp4">â˜•</div>
          </div>
          <div id="free-message" class="hidden text-white bg-green-500 p-4 rounded-lg mb-4 text-lg">ðŸŽ‰ FREE COFFEE AVAILABLE â€“ SHOW THIS TO STAFF</div>
          <div id="birthday-message" class="hidden text-white bg-gradient-to-r from-pink-500 to-purple-500 p-4 rounded-lg mb-4 text-lg">ðŸŽ‚ HAPPY BIRTHDAY! Your coffee is on us today! ðŸŽ‚</div>
          <button id="add-button" class="bg-[var(--mustard)] text-[var(--charcoal)] px-6 py-3 rounded-lg font-semibold hover:bg-[var(--mustard)]/90 transition-colors">Add Coffee</button>
          
          <div class="mt-8 text-left bg-white p-6 rounded-lg shadow-sm">
            <h3 class="font-semibold mb-3">How it works:</h3>
            <ol class="text-sm space-y-2 text-[var(--charcoal)]/80">
              <li>1. Scan the QR code with your phone</li>
              <li>2. Register for your digital card</li>
              <li>3. Show your phone to staff when ordering</li>
              <li>4. Get a stamp added to your digital card</li>
              <li>5. After 4 stamps, your next coffee is free!</li>
            </ol>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-[var(--charcoal)] text-white py-12">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 grid md:grid-cols-3 gap-8">
      <div>
        <h3 class="font-semibold mb-4">Mustard Seed CafÃ©</h3>
        <p class="text-sm text-white/80">Inside Trinity Christian School, Wanniassa</p>
        <p class="text-sm text-white/80 mt-2">Open Mon-Fri 7:30am-2:30pm</p>
      </div>
      <div>
        <h3 class="font-semibold mb-4">Quick Links</h3>
        <ul class="text-sm space-y-2">
          <li><a href="about.html" class="text-white/80 hover:text-white transition-colors">About</a></li>
          <li><a href="loyalty.html" class="text-white/80 hover:text-white transition-colors">Loyalty Program</a></li>
          <li><a href="findus.html" class="text-white/80 hover:text-white transition-colors">Find Us</a></li>
          <li><a href="contact.html" class="text-white/80 hover:text-white transition-colors">Contact</a></li>
        </ul>
      </div>
      <div>
        <h3 class="font-semibold mb-4">Contact Info</h3>
        <p class="text-sm text-white/80">34 McBryde Cres, Wanniassa ACT 2903</p>
        <p class="text-sm text-white/80 mt-2">Phone: (02) 6210 7500</p>
      </div>
    </div>
    <div class="max-w-6xl mx-auto px-4 sm:px-6 mt-8 pt-8 border-t border-white/10 text-center text-sm text-white/60">
      <p>&copy; <span id="year"></span> Mustard Seed CafÃ©. All rights reserved.</p>
      <p class="mt-2"><a href="staff.html" class="hover:text-white/80 transition-colors text-xs">Staff Access</a></p>
    </div>
  </footer>

  <script src="script.js"></script>
  <script>
    // Mobile nav toggle
    const btn = document.getElementById('mobileBtn');
    const nav = document.getElementById('mobileNav');
    btn.addEventListener('click', () => {
      const expanded = btn.getAttribute('aria-expanded') === 'true';
      btn.setAttribute('aria-expanded', !expanded);
      nav.classList.toggle('hidden');
    });

    // Close mobile nav on link click
    nav.querySelectorAll('a').forEach(link => {
      link.addEventListener('click', () => {
        nav.classList.add('hidden');
        btn.setAttribute('aria-expanded', 'false');
      });
    });

    // Year
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>